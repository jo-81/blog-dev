{% extends 'base.html.twig' %}

{% block title %}Catégories | {{ parent() }}{% endblock %}

{% block body %}
<section class="container my-5">

    <header class="mb-3">
        <h1 class="h3 mb-0 fw-bold text-uppercase">Catégories</h1>
    </header>

    <div class="accordion accordion-flush" id="accordionFlushExample">
        {% for category in categories %}
            <div class="accordion-item">
                <h2 class="accordion-header">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#category-{{ category.slug }}" aria-expanded="false" aria-controls="category-{{ category.slug }}">
                        {{ category.name | capitalize }} ({{ category.posts | length }})
                    </button>
                </h2>
                <div id="category-{{ category.slug }}" class="accordion-collapse collapse" data-bs-parent="#accordionFlushExample">
                    <div class="accordion-body">
                        <ul>
                            {% for post in category.posts %}
                                <li>
                                    <a href="{{ path('post.single', {slug: post.slug}) }}">{{ post.title }}</a>
                                </li>
                            {% endfor %}
                        </ul>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>

</section>
{% endblock %}
